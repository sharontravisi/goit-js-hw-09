{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAUA,MAAMC,EAAuBC,SAASC,cAAc,QAI9CC,EAAaF,SAASC,cAAc,oBAIpCE,EAAYH,SAASC,cAAc,mBAInCG,EAAcJ,SAASC,cAAc,qBAKzBD,SAASC,cAAc,UAOzC,SAASI,EAAcC,EAAUC,GACTC,KAAKC,SAAW,GAEpCC,QAAQC,QAAQ,CAAEC,SAAAN,EAAUO,MAAAN,IAASO,MAAK,EAACF,SAAEA,EAAQC,MAAEA,MACrDhB,EAAAkB,OAAOC,QAAQ,uBAAqBJ,QAAiBC,MAAU,IAGjEH,QAAQO,OAAO,CAAEL,SAAAN,EAAUO,MAAAN,IAASW,OAAM,EAACN,SAAEA,EAAQC,MAAEA,MACrDhB,EAAAkB,OAAOI,QAAQ,sBAAoBP,QAAeC,MAAU,G,CAgClEd,EAAqBqB,iBAAiB,UAvBjBC,IACnBA,EAAMC,iBACN,IAAIT,EAAQU,OAAOrB,EAAWsB,OAC9B,MAAMC,EAAOF,OAAOpB,EAAUqB,OACxBE,EAASH,OAAOnB,EAAYoB,OAClC,IAAIZ,EAAW,EACfe,YAAW,KACTf,IACAP,EAAcO,EAASC,GACvB,MAAMe,EAAUC,aAAY,KAC1BjB,IACAC,GAAOY,EACPpB,EAAcO,EAASC,GACpBD,GAAUc,GACXI,cAAcF,EAAQ,GAExBH,EAAK,GACPZ,EAAM,IAYVX,EAAW6B,MAAMC,QAAU,QAC3B7B,EAAU4B,MAAMC,QAAU,QAC1B5B,EAAY2B,MAAMC,QAAU,QAC5BjC,EAAqBgC,MAAMC,QAAU,OACrCjC,EAAqBgC,MAAME,IAAM,OACjClC,EAAqBgC,MAAMG,WAAa","sources":["src/js/03-promises.js"],"sourcesContent":["'use strict';\n\n/**\n * Para mostrar las notificaciones al usuario en lugar de console.log() se usa la biblioteca notiflix.\n */\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\n/**\n * Selector del elemento formulario\n */\nconst formPromiseGenerator = document.querySelector('form');\n/**\n * Selector del campo Delay\n */\nconst inputDelay = document.querySelector('[name = \"delay\"]');\n/**\n * Selector del campo Step\n */\nconst inputStep = document.querySelector('[name = \"step\"]');\n/**\n * Selector del campo Amount\n */\nconst inputAmount = document.querySelector('[name = \"amount\"]');\n/**\n * Selector boton de envio del formulario\n */\n\nconst btnSubmit = document.querySelector('button');\n\n/**\n * Funcion para crear las promesas\n * @param {*} position\n * @param {*} delay\n */\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    Promise.resolve({ position, delay }).then(({ position, delay }) => {\n      Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    });\n  } else {\n    Promise.reject({ position, delay }).catch(({ position, delay }) => {\n      Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n  }\n}\n\n/**\n * Funcion manejadora de los eventos submit\n * @param {*} event\n */\nconst handleSubmit = event => {\n  event.preventDefault();\n  let delay = Number(inputDelay.value);\n  const step = Number(inputStep.value);\n  const amount = Number(inputAmount.value);\n  let position = 0;\n  setTimeout(()=>{\n    position++;\n    createPromise(position,delay);\n    const timerId = setInterval(()=>{\n      position++;\n      delay+=step;\n      createPromise(position,delay)\n      if(position>=amount){\n        clearInterval(timerId);\n      }\n    },step);\n  },delay);\n};\n\n/**\n * Evento submit que al enviar el formulario\n */\nformPromiseGenerator.addEventListener('submit', handleSubmit);\n\n/**\n * ESTILOS CSS DEL FORMULARIO\n */\n\ninputDelay.style.display = \"block\";\ninputStep.style.display = \"block\";\ninputAmount.style.display = \"block\";\nformPromiseGenerator.style.display = \"flex\";\nformPromiseGenerator.style.gap = \"10px\";\nformPromiseGenerator.style.alignItems = \"flex-end\""],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$formPromiseGenerator","document","querySelector","$47d4ff9957288465$var$inputDelay","$47d4ff9957288465$var$inputStep","$47d4ff9957288465$var$inputAmount","$47d4ff9957288465$var$createPromise","position1","delay1","Math","random","Promise","resolve","position","delay","then","Notify","success","reject","catch","failure","addEventListener","event","preventDefault","Number","value","step","amount","setTimeout","timerId","setInterval","clearInterval","style","display","gap","alignItems"],"version":3,"file":"03-promises.80c3e873.js.map"}